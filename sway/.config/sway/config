# Read `man 5 sway` for a complete reference.

### Output configuration ###
output HDMI-A-1 resolution 1920x1080@74.973Hz position 0,0

### Variables ###
## Super key ##
set $mod Mod4
## Directions ##
set $left h
set $down j
set $up k
set $right l
## Apps ##
# Terminal
set $term foot
# Dropdown terminal
set $dropdown_terminal foot --app-id=foot-scratchpad
# Menu (Rofi)
set $menu rofi -show drun
# Power menu (Rofi)
set $powermenu exec rofi -show power
# Window menu (Rofi)
set $windowmenu exec rofi -show window
# Screenshot menu (Rofi)
set $screenshot_script ~/.config/rofi/scripts/screenshot.sh
# Screen recording menu (Rofi)
set $screen_record_script ~/.config/rofi/scripts/screenrecord.sh
# Symbols and emojis menu (Rofi)
set $symbolsmenu ~/.config/rofi/scripts/emojis.sh
# Clipboard history menu (Rofi)
set $cliphistmenu ~/.config/rofi/scripts/cliphist.sh
# Web browser
set $web_browser firefox
# RSS feed
set $newsboat foot --app-id=newsboat -- newsboat
# Keybind helper
set $swaykeybinds foot --app-id=swaykeybinds sh -c '/home/juju/.local/bin/sway-keybinds.sh; read -p "Press enter to close..."'
# Woomer
set $woomer $HOME/.cargo/bin/woomer

### Autostart + Window rules ###
# Essentials
exec dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP=sway XDG_SESSION_TYPE=wayland
exec /usr/lib/polkit-kde-authentication-agent-1
exec waypaper --restore
exec dunst
exec wl-paste --watch cliphist store
# Messaging on WS 9
exec vesktop
for_window [app_id="vesktop"] move container to workspace number 9
exec Telegram
for_window [app_id="org.telegram.desktop"] move container to workspace number 9
# Dropdown Terminal
exec $dropdown_terminal
for_window [app_id="foot-scratchpad"] floating enabled, move to scratchpad 
# Newsfeed
exec $newsboat
for_window [app_id="newsboat"] move container to workspace number 6
# Sway Keybinds
for_window [app_id="swaykeybinds"] floating enabled
for_window [app_id="firefox"] {
  move container to workspace number 3
  workspace number 3
}
for_window [app_id="firefox" title=".*Messenger.*"] move container to workspace 9
# Firefox Picture-in-Picture window rule
for_window [app_id="firefox" title="Picture-in-Picture"] {
    floating enable
    border pixel 2
    resize set 400 500
    move position 1300 760
    sticky enable
}

### Idle configuration ###
exec swayidle -w \
         timeout 900 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \

### Input configuration ###
input type:keyboard {
    xkb_layout us,ca
    xkb_variant ,multix
    xkb_options caps:escape,grp:win_space_toggle
    xkb_numlock enabled
}

### Key bindings ###
## Floating modifier ##
    floating_modifier $mod normal
## Programs and scripts ##
    bindsym $mod+Return exec $term
    bindsym $mod+Shift+Return exec $dropdown_terminal
    bindsym $mod+shift+n exec $newsboat
    bindsym $mod+w exec $web_browser
    bindsym $mod+d exec $menu
    bindsym $mod+Shift+s exec $screenshot_script
    bindsym $mod+Shift+Control+s exec $screen_record_script
    bindsym $mod+tab $windowmenu
    bindsym $mod+Shift+slash exec $swaykeybinds
    bindsym $mod+s exec $symbolsmenu
    bindsym $mod+v exec $cliphistmenu
    bindsym $mod+c exec $woomer
## Kill, reload and quit ##
    bindsym $mod+q kill
    bindsym $mod+shift+q $powermenu
    bindsym $mod+Shift+c reload
## Focus ##
    bindsym $mod+$left focus left
    bindsym $mod+$down focus down
    bindsym $mod+$up focus up
    bindsym $mod+$right focus right
    bindsym $mod+g focus mode_toggle
## Move and move to scratchpad ##
    bindsym $mod+Shift+$left move left
    bindsym $mod+Shift+$down move down
    bindsym $mod+Shift+$up move up
    bindsym $mod+Shift+$right move right
    bindsym $mod+Shift+1 move container to workspace number 1; workspace number 1
    bindsym $mod+Shift+2 move container to workspace number 2; workspace number 2
    bindsym $mod+Shift+3 move container to workspace number 3; workspace number 3
    bindsym $mod+Shift+4 move container to workspace number 4; workspace number 4
    bindsym $mod+Shift+5 move container to workspace number 5; workspace number 5
    bindsym $mod+Shift+6 move container to workspace number 6; workspace number 6
    bindsym $mod+Shift+7 move container to workspace number 7; workspace number 7
    bindsym $mod+Shift+8 move container to workspace number 8; workspace number 8
    bindsym $mod+Shift+9 move container to workspace number 9; workspace number 9
    bindsym $mod+Shift+0 move container to workspace number 10; workspace number 10
    bindsym $mod+Shift+minus move scratchpad
## Switch workspace and show scratchpad ##
    bindsym $mod+1 workspace number 1
    bindsym $mod+2 workspace number 2
    bindsym $mod+3 workspace number 3
    bindsym $mod+4 workspace number 4
    bindsym $mod+5 workspace number 5
    bindsym $mod+6 workspace number 6
    bindsym $mod+7 workspace number 7
    bindsym $mod+8 workspace number 8
    bindsym $mod+9 workspace number 9
    bindsym $mod+0 workspace number 10
    bindsym $mod+z workspace prev
    bindsym $mod+x workspace next
    bindsym $mod+Shift+z exec ~/.local/bin/workspace_cycle.sh prev
    bindsym $mod+Shift+x exec ~/.local/bin/workspace_cycle.sh next
    bindsym $mod+minus scratchpad show
    bindsym $mod+equal [app_id="foot-scratchpad"] scratchpad show
##  Layout Control ##
    bindsym $mod+period layout toggle split tabbed
    bindsym $mod+shift+period border toggle
    bindsym $mod+m split toggle
## Window states ##
    bindsym $mod+f fullscreen
    bindsym $mod+Shift+f floating toggle
    bindsym $mod+p sticky toggle
## Bottom Bar states ##
    bindsym $mod+slash exec swaymsg bar mode toggle bottom_bar

#### Modes ####
mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    # Return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

### Bars ###
bar {
  swaybar_command waybar
  id top_bar
  mode dock
}

bar {
  swaybar_command /bin/true 
  id bottom_bar
  mode dock
  modifier none
}

### Look and feel & Default behavior ###
font pango:Roboto Mono 8
workspace_layout default
default_border pixel 2
default_floating_border normal 2
titlebar_border_thickness 2
title_align center
titlebar_padding 5
smart_borders on
smart_borders no_gaps
smart_gaps on
mouse_warping output
gaps inner 10
gaps outer 0

### Include Colors ###
include colors
